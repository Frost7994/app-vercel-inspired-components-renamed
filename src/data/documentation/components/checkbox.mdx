---
title: "Checkbox"
date: Oct 2022
author: Tommy Byrne
tag: "Components"
---

<GithubButton repo="/components/ui/checkbox.js" />

## Introduction

The `Checkbox` component is a user interface (UI) element that allows users to select one or more options from a list of choices. It consists of a small box that can be either checked or unchecked.

## Anatomy

The `Checkbox` component consists of the following elements:

- `Checkbox` HTML input element
- __Indicator__ HTML element to visually display the state
- __Check Icon__ as well to visualize the current state of the checkbox

## Demonstration

The base `Checkbox` component accepts multiple props for size, styling and active states. Below is a sandbox in which you can test out each of the available props that will affect the components appearance.

<CheckboxDemonstration />

## Usage

To use the `Checkbox` component, simply import it from `@/components/ui/checkbox` and use it as follows:

<CodeBlock
  title="Basic import"
  fit={true}
  snippet={`
    // state
    import { useState } from 'react'
    
    // components
    import Checkbox from '@/components/ui/checkbox'

    const Page = () => {
      // state
      let [checked, setChecked] = useState(false)

      return (
        <div className='flex items-center gap-2'>
            <Checkbox
              checked={checked}
              setChecked={setChecked}
            />
            <p>Agree to terms and conditions.</p>
        </div>
      )
    }

    export default Page
    `}
/>

## Edges

Some components such as `Checkbox` are used mainly within other elements such as forms. That means we need access to them for focus or displaying errors. The `Checkbox` component is wrapped in a forwardRef so we can pass a ref to it, for example when using `Controller` from __React-Hook-Form__. An example is provided below: 

<CodeBlock
title='React-Hook-Form example'
fit={true}
snippet={`
// components
import Button from "@/components/ui/button"
import Checkbox from "@/components/ui/checkbox"

// utils
import { useForm, Controller } from "react-hook-form"

const Component = () => {
  // form destructure
  const { handleSubmit, control } = useForm({
    defaultValues: {
      terms: false
    }
  })

  // fn submit
  const onSubmit = (data) => {
    console.log(data)
  }

  return (
    <div className="flex items-center justify-center h-full">
      <form
        onSubmit={handleSubmit(onSubmit)}
        className="flex items-center gap-2">
        <Controller
          control={control}
          name='terms'
          rules={{ required: true }}
          render={({ field: { value, onChange, ref } }) =>
            <Checkbox
              ref={ref}
              checked={value}
              setChecked={onChange}
            />
          }
        />
        <p>Agree to terms and conditions.</p>
        <Button size='sm' type='submit'>Submit</Button>
      </form>
    </div>
  )
}

export default Component
`}/>

## Props

Below is a table of props for use within the `Button` component.

| Prop                                                | Type                              | Default                          | Description                                                                                       |
| --------------------------------------------------- | --------------------------------  | -------------------------------- | ------------------------------------------------------------------------------------------------- |
| <TableProp type='solid'>ref</TableProp>             | <TableProp>React.ref</TableProp>  | <NoWrap>null</NoWrap>            | A ref is used to connect to the component, for example, in a form. Allows focus of input etc      |
| <TableProp type='solid'>defaultChecked</TableProp>  | <TableProp>Bool</TableProp>       | <NoWrap>false</NoWrap>           | Default state for the checkbox component.                                                         |
| <TableProp type='solid'>checked</TableProp>         | <TableProp>Bool</TableProp>       | <NoWrap>false</NoWrap>           | The base state for the checkbox component taht can be updated using `setChecked`                  |
| <TableProp type='solid'>setChecked</TableProp>      | <TableProp>Function</TableProp>   | <NoWrap>{`( ) => { }`}</NoWrap>  | The click event handler function.                                                                 |
| <TableProp type='solid'>size</TableProp>            | <TableProp>String</TableProp>     | <NoWrap>"default"</NoWrap>       | The size of the checkbox. Possible values are `sm` , `default` and `lg` .                         |
| <TableProp type='solid'>variant</TableProp>         | <TableProp>String</TableProp>     | <NoWrap>"default"</NoWrap>       | The visual colors of the checkbox. Possible values are `default` , `primary` and `secondary` .    |
| <TableProp type='solid'>disabled</TableProp>        | <TableProp>Bool</TableProp>       | <NoWrap>false</NoWrap>           | Disables the checkbox.                                                                            |
| <TableProp type='solid'>className</TableProp>       | <TableProp>String</TableProp>     | <NoWrap>" "</NoWrap>             | CSS class name(s) to apply to the checkbox element.                                               |


## Full Code

Below is the full code for `@/components/ui/checkbox`.

<CodeBlock 
title='Completed component'
snippet={`
// base
import { BiCheck } from "react-icons/bi";

// components
import * as CheckboxRoot from "@radix-ui/react-checkbox";

// utils
import { cva } from "class-variance-authority";
import mergeClasses from "@/utils/helpers/mergeClasses";

const Checkbox = ({
  disabled,
  checked,
  setChecked,
  defaultChecked = false,
  size,
  variant,
  className,
}) => {
  // styling
  let baseCheckboxStyles = cva(
    [
      "border",
      "overflow-hidden",
      "rounded-md",
      "flex",
      "items-center",
      "justify-center",
      "transition-all",
    ],
    {
      variants: {
        size: {
          sm: ["h-4", "w-4"],
          default: ["h-5", "w-5"],
          lg: ["h-6", "w-6"],
        },
        variant: {
          default: [
            "border-tertiary-300",
            "dark:border-tertiary-700",
            "hover:border-tertiary-950",
            "hover:dark:border-tertiary-50",
          ],
          primary: ["border-primary-500", "hover:border-primary-600"],
          secondary: ["border-secondary-500", "hover:border-secondary-600"],
        },
        disabled: {
          true: ["disabled:pointer-events-none", "disabled:opacity-40"],
        },
      },
      defaultVariants: {
        size: "default",
        variant: "default",
      },
    }
  );

  let baseCheckboxIndicatorStyles = cva(
    ["flex", "items-center", "justify-center", "h-full", "w-full"],
    {
      variants: {
        size: {
          sm: ["text-xs"],
          default: ["text-base"],
          lg: ["text-lg"],
        },
        variant: {
          default: [
            "bg-tertiary-950",
            "dark:bg-tertiary-50",
            "text-tertiary-50",
            "dark:text-tertiary-950",
          ],
          primary: ["bg-primary-500", "text-primary-50"],
          secondary: ["bg-secondary-500", "text-secondary-50"],
        },
      },
      defaultVariants: {
        variant: "default",
        size: "default",
      },
    }
  );

  return (
    <CheckboxRoot.Root
      disabled={disabled}
      id="c1"
      defaultChecked={defaultChecked}
      checked={checked}
      onCheckedChange={setChecked}
      className={mergeClasses(
        baseCheckboxStyles({ variant, size, disabled }),
        className
      )}
    >
      <CheckboxRoot.Indicator
        className={mergeClasses(baseCheckboxIndicatorStyles({ variant, size }))}
      >
        <BiCheck />
      </CheckboxRoot.Indicator>
    </CheckboxRoot.Root>
  );
};

export default Checkbox;
`}/>